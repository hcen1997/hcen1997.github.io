---
layout: post
---
家里人买了一个100块以内的国产网络摄像头

### 坑计数
    1. 摄像头有三个塑料天线,其中只有一个有用处,其他两个是雕像
    2. 摄像头不支持完整onvifapi,甚至不支持ptz的position获取
    3. 因为不完整的摄像头api,python-onvif库无法使用

### 需求
    定时转动,拍照片,

### 解决方法
    1. 拍照片: 通过opencv rtmp获取一张图片
    2. 转动: 因为无法使用python库,所以通过wireShark抓取http包,直接发送指令
    3. 定时: 以上功能化简为py脚本,使用crontab进行定时运行

### 吐槽
    1. python无法像js一样简单的创建一个对象.java也是一样,想用先定义,
        但是需求只是简单的找个筐放数据而已.并且用'.'操作符方便的读取修改
    2. 体系分层真的很有用,不然遇见在顶层无解的问题非常让人沮丧